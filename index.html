<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="travelpathpro-api-base" content="">
  <title>Road Trip Planning</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #fafafa;
    }
    header {
      text-align: center;
      padding: 15px;
      background: #004aad;
      color: white;
      border-radius: 10px;
    }
    header h1, header h2 {
      margin: 5px 0;
    }
    nav a {
      color: #ffd700;
      text-decoration: none;
      margin: 0 10px;
    }
    nav a:hover {
      text-decoration: underline;
    }
    main {
      margin-top: 20px;
    }
    input, button, select {
      padding: 8px;
      margin: 5px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
      width: 100%;
      max-width: 400px;
    }
    button {
      background-color: #0078d7;
      color: white;
      cursor: pointer;
      width: auto;
    }
    button:hover {
      background-color: #005fa3;
    }
    .trip-layout {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }
    #map {
      flex: 1 1 600px;
      height: 500px;
      border-radius: 10px;
      border: 1px solid #ccc;
    }
    #output {
      flex: 1 1 350px;
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      overflow-y: auto;
      max-height: 500px;
    }
    footer {
      text-align: center;
      margin-top: 40px;
      color: #555;
    }

    /* --- Added for stops with stay nights --- */
    .stop-entry {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 10px;
    }

    .stop-entry input[type="text"] {
      flex: 1;
      min-width: 200px;
    }

    .stop-entry input[type="number"] {
      width: 80px;
    }

    .stop-entry button.remove-stop {
      background: #ff4d4d;
      color: white;
      border: none;
      padding: 6px 10px;
      border-radius: 5px;
      cursor: pointer;
    }

    .stop-entry button.remove-stop:hover {
      background: #d93636;
    }
  </style>
</head>
<body>
  <header>
    <h1>Welcome To The TravelPathPro.com Website</h1>
    <h2>Road Trip Planning Made Easy</h2>
    <nav>
      <a href="index.html">üè† Home</a> |
      <a href="saved.html">üíæ Saved Trips</a> |
      <a href="about.html">‚ÑπÔ∏è About</a> |
      <a href="contact.html">üìß Contact</a>
    </nav>

    <button id="themeToggle" aria-label="Toggle Dark Mode">
      <i class="fa-solid fa-moon"></i>
    </button>
  </header>

  <main>
    <div class="main-layout">
      <!-- Left: Inputs -->
      <div class="inputs-panel">
        <p><strong>Plan your next road trip below:</strong></p>

        <label>From date:</label>
        <input type="date" id="fromDate"><br>


        <label for="unitSelect">Distance Unit:</label>
        <select id="unitSelect">
          <option value="km">Kilometers (km)</option>
          <option value="mi">Miles (mi)</option>
        </select>
        <br>

        <label for="maxdaydistance">Max Daily Distance:</label>
        <input type="number" id="maxdaydistance" placeholder="e.g. 500">

        <label>Starting Point:</label>
        <div style="display:flex; gap:8px; align-items:center; max-width:400px;">
          <input type="text" id="starting" placeholder="Enter your starting point" style="flex:1;">
          <button type="button" id="useMyLocationBtn" title="Use My Current Location">üìç</button>
        </div>

        <label>Destination:</label>
        <input type="text" id="destination" placeholder="Enter your trip destination"><br><br>

        <div id="stopsContainer"></div>
        <button onclick="addStop()">+ Add Stop</button><br><br>

        <label>Number of adults:</label>
        <input type="number" id="adults" value="2" min="1"><br>

        <label>Number of children:</label>
        <input type="number" id="children" value="0" min="0" onchange="updateChildrenAges()">
        <div id="childrenAges"></div>

        <label>Number of rooms:</label>
        <input type="number" id="rooms" value="1" min="1"><br>

        <!-- Vehicle and Fuel Inputs -->
        <div id="vehicleInputs" class="input-group">
          <label for="vehicleType">Vehicle Type:</label>
          <select id="vehicleType">
            <option value="">Select</option>
            <option value="car">Car</option>
            <option value="suv">SUV</option>
            <option value="truck">Truck</option>
            <option value="van">Van</option>
            <option value="motorcycle">Motorcycle</option>
          </select>

          <label for="fuelType">Fuel Type:</label>
          <select id="fuelType">
            <option value="">Select</option>
            <option value="gas">Gasoline</option>
            <option value="diesel">Diesel</option>
            <option value="hybrid">Hybrid</option>
            <option value="electric">Electric</option>
          </select>

          <label for="fuelPrice">Fuel Price ($/L or kWh):</label>
          <input type="number" id="fuelPrice" step="0.01" min="0" placeholder="e.g. 2.00" value="2.00"><br><br>

          

        </div>

        <button onclick="CalculateLegs()">
          <i class="fa-solid fa-route"></i> Calculate Legs
        </button>
    

        <button onclick="saveTrip()">
          <i class="fa-solid fa-floppy-disk"></i> Save Trip
        </button>

        <button id="downloadpdf" onclick="exportToPDF()">
          <i class="fa-solid fa-file-pdf"></i> Download PDF
        </button>


      </div>

      <!-- Right: Map + Trip Summary -->
      <div class="map-panel">
        <div id="map"></div>
        <div id="output"></div>
 
      <!-- ‚ö° EV Charger Color Key -->
      <div id="colorKey" style="
        display: none; /* hidden by default */
        opacity: 0;
        transition: opacity 0.4s ease;
        background: #fff;
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 10px;
        margin-top: 10px;
        width: fit-content;
        font-size: 14px;
        line-height: 1.6;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      ">
        <strong>EV Charging Station Legend:</strong><br>
        <span style="color:green;">üü¢</span> Level 2 ‚Äì Standard Public Chargers<br>
        <span style="color:blue;">üîµ</span> DC Fast / Superchargers<br>
        <span style="color:red;">üî¥</span> Tesla Superchargers<br>
        <span style="color:goldenrod;">üü°</span> Level 1 ‚Äì Slow Chargers
      </div>

      <div id="tripFlow" class="flowchart"></div>
        

      </div>
    </div>
  </main>

  <footer>
    <p style="font-size:12px; color:#777; text-align:center; margin-top:10px;">
      This site uses affiliate links. We may earn a commission at no extra cost to you.
    </p>

    <p>¬© 2025 Roberto</p>
  </footer>

  <!-- Google Maps + Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>


  <script src="script.js"></script>

  
  <script>
  window.addEventListener("DOMContentLoaded", () => {
    const fuelSelect = document.getElementById("fuelType");
    const colorKey = document.getElementById("colorKey");

    if (!fuelSelect || !colorKey) return;

    // Smooth fade toggle
    function toggleColorKey(show) {
      if (show) {
        colorKey.style.display = "block";
        requestAnimationFrame(() => (colorKey.style.opacity = "1"));
      } else {
        colorKey.style.opacity = "0";
        setTimeout(() => (colorKey.style.display = "none"), 400);
      }
    }

    // React to fuel type changes
    fuelSelect.addEventListener("change", () => {
      toggleColorKey(fuelSelect.value === "electric");
    });

    // Handle case when a saved electric trip auto-loads later
    setTimeout(() => {
      if (fuelSelect.value === "electric") toggleColorKey(true);
    }, 800);
  });
  </script>


</body>
</html>
